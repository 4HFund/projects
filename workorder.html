<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Wheeling Housing Authority • Resident Help Portal</title>
<meta name="color-scheme" content="dark light" />

<style>
:root {
  --wha-purple: #4B2E83;
  --wha-gold: #DAA520;
  --bg-dark: #0b0e1a;
  --bg-mid: #141833;
  --text-light: #f4f6fa;
  --text-muted: #a3acc2;
  --border: #2a3852;
  --field: #111a33;
  --shadow: 0 20px 60px rgba(0,0,0,.55);
}

*{box-sizing:border-box;}
html,body{height:100%;margin:0;}
body {
  font-family: "Segoe UI", system-ui, sans-serif;
  color: var(--text-light);
  background: linear-gradient(180deg,var(--bg-mid),var(--bg-dark));
  padding: 24px 12px 60px;
  display:flex; justify-content:center; align-items:flex-start;
}

.container {
  width:100%;
  max-width:950px;
  background: radial-gradient(circle at top left, rgba(75,46,131,.15), transparent 70%),
              radial-gradient(circle at bottom right, rgba(218,165,32,.1), transparent 70%),
              linear-gradient(180deg,var(--bg-mid),var(--bg-dark));
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow: var(--shadow);
  overflow:hidden;
}

header {
  display:flex;
  align-items:center;
  gap:14px;
  background:linear-gradient(90deg,var(--wha-purple),var(--wha-gold));
  color:#fff;
  padding:14px 18px;
}
header svg {
  width:40px; height:40px; background:#fff; border-radius:10px; padding:5px;
}
header h1 {
  margin:0; font-size:20px; font-weight:800; letter-spacing:.3px;
}
header span {
  font-size:13px; font-weight:500; opacity:.9;
}

main { padding:20px; }
h2 {
  text-align:center;
  font-size:clamp(22px,4vw,32px);
  color: var(--wha-gold);
  margin-top:0;
}
p.lead {
  text-align:center;
  color: var(--text-muted);
  margin-bottom:24px;
}

form {
  display:grid;
  gap:16px;
}
.grid2 { display:grid; gap:12px; }
@media(min-width:720px){ .grid2{grid-template-columns:1fr 1fr;} }

label { display:block; font-weight:700; margin-bottom:6px; }
.req { color:var(--wha-gold); }

input, select, textarea {
  width:100%;
  background:var(--field);
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px;
  color:var(--text-light);
  font-size:16px;
}
input:focus, select:focus, textarea:focus {
  outline:none;
  border-color: var(--wha-gold);
  box-shadow:0 0 0 3px rgba(218,165,32,.3);
}
textarea { min-height:130px; resize:vertical; }

button {
  border:none;
  border-radius:10px;
  font-weight:800;
  font-size:17px;
  cursor:pointer;
  padding:12px 20px;
  transition:all .2s ease;
}
button[type="submit"] {
  background: linear-gradient(90deg,var(--wha-gold),#f0c24c);
  color:#111;
}
button[type="submit"]:hover { filter:brightness(1.1); }
button.ghost {
  background:transparent;
  border:1px solid var(--text-muted);
  color:var(--text-light);
}
.hidden {display:none;}
footer {
  text-align:center;
  font-size:13px;
  color:var(--text-muted);
  margin-top:24px;
}
</style>
</head>
<body>
<div class="container">
  <header>
    <svg viewBox="0 0 24 24" fill="none">
      <path fill="#4B2E83" d="M12 2l8 4v6c0 5-3.5 8.5-8 10-4.5-1.5-8-5-8-10V6l8-4z"/>
      <path fill="#DAA520" d="M8 11h8v2H8zM10 7h4v2h-4z"/>
    </svg>
    <div>
      <h1>Wheeling Housing Authority</h1>
      <span>Resident Help Portal</span>
    </div>
  </header>

  <main>
    <h2>Submit a Request</h2>
    <p class="lead">Choose a form type below to contact your property’s team.</p>

    <form action="https://script.google.com/macros/s/AKfycbybKQNMyAl1e5IFrm_eeqCkkYAw1iersNIcWyMGCVHSznxjhrpZwRAdOyD0cS5QIPa7/exec" method="POST" id="residentForm">
      <input type="hidden" name="submittedPage" value="">
      <input type="hidden" name="ua" value="">
      <input type="hidden" name="successRedirect" value="thank-you.html">

      <label for="formType">What are you submitting? <span class="req">*</span></label>
      <select id="formType" name="formType" required>
        <option value="">Select…</option>
        <option value="work_order">Work Order (maintenance)</option>
        <option value="feedback">General Complaint / Suggestion</option>
      </select>

      <div class="grid2">
        <div>
          <label for="property">Property <span class="req">*</span></label>
          <select id="property" name="property" required>
            <option value="">Select a property…</option>
            <option>Booker T</option>
            <option>Luau Manor</option>
            <option>Garden Park</option>
            <option>Riverside</option>
            <option>Hil-Dar</option>
            <option>Other</option>
          </select>
        </div>
        <div>
          <label for="unit">Apt/Unit</label>
          <input id="unit" name="unit" placeholder="e.g., 2B" />
        </div>
      </div>

      <div class="grid2">
        <div>
          <label for="name">Your Name <span class="req">*</span></label>
          <input id="name" name="name" required />
        </div>
        <div>
          <label for="contact">Contact (phone or email) <span class="req">*</span></label>
          <input id="contact" name="contact" required />
        </div>
      </div>

      <!-- Work order fields -->
      <div id="workOrderSection" class="hidden">
        <div class="grid2">
          <div>
            <label for="issue">Issue Type <span class="req">*</span></label>
            <select id="issue" name="issue">
              <option>Plumbing</option>
              <option>Electrical</option>
              <option>Heating/Cooling</option>
              <option>Appliance</option>
              <option>Pest</option>
              <option>Door/Window/Lock</option>
              <option>General Maintenance</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="entry">Permission to Enter <span class="req">*</span></label>
            <select id="entry" name="entry">
              <option>Yes</option>
              <option>No</option>
            </select>
          </div>
        </div>

        <div class="grid2">
          <div>
            <label for="urgency">Urgency</label>
            <select id="urgency" name="urgency">
              <option>Routine</option>
              <option>Priority (24–48 hrs)</option>
              <option>Emergency (active leak, no heat, etc.)</option>
            </select>
          </div>
          <div>
            <label for="preferredTime">Preferred Contact Time</label>
            <input id="preferredTime" name="preferredTime" placeholder="e.g., mornings / after 3pm" />
          </div>
        </div>
      </div>

      <!-- Feedback fields -->
      <div id="feedbackSection" class="hidden">
        <div>
          <label for="category">Category</label>
          <select id="category" name="category">
            <option>General Complaint</option>
            <option>Suggestion</option>
            <option>Noise/Disturbance</option>
            <option>Safety Concern</option>
            <option>Cleanliness/Common Areas</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <div>
        <label for="description">Details <span class="req">*</span></label>
        <textarea id="description" name="description" required></textarea>
      </div>

      <div style="display:flex;gap:12px;flex-wrap:wrap;">
        <button type="submit">Submit</button>
        <button type="reset" class="ghost">Reset</button>
      </div>
    </form>
  </main>

  <footer>
    © <span id="yr"></span> Wheeling Housing Authority — For emergencies, call the office.
  </footer>
</div>

<script>
document.querySelector('input[name="submittedPage"]').value = location.href;
document.querySelector('input[name="ua"]').value = navigator.userAgent;
document.getElementById('yr').textContent = new Date().getFullYear();

const typeSel = document.getElementById('formType');
const workSec = document.getElementById('workOrderSection');
const feedSec = document.getElementById('feedbackSection');

typeSel.addEventListener('change', () => {
  if(typeSel.value === 'work_order') {
    workSec.classList.remove('hidden');
    feedSec.classList.add('hidden');
  } else if(typeSel.value === 'feedback') {
    feedSec.classList.remove('hidden');
    workSec.classList.add('hidden');
  } else {
    workSec.classList.add('hidden');
    feedSec.classList.add('hidden');
  }
});
</script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Wheeling Housing Authority â€” Resident Services</title>
<meta name="theme-color" content="#4B2E83" />
<meta name="description" content="Submit work orders or maintenance concerns to the Wheeling Housing Authority." />

<style>
/* ========= THEME ========= */
:root{
  --purple:#4B2E83;
  --gold:#DAA520;
  --bg:#0b0f1e;
  --card:#121735;
  --ink:#f6f7ff;
  --muted:#b7bfdf;
  --stroke:#26345a;
  --radius:14px;
  --shadow:0 18px 50px rgba(0,0,0,.55);
}
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* ========= UTILS ========= */
.hidden{display:none !important}

/* ========= HEADER ========= */
.header{
  position:sticky; top:0; z-index:1000;
  background:linear-gradient(90deg,var(--purple),var(--gold));
  padding:12px 16px; display:flex; align-items:center; gap:12px;
}
.logo{
  width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
  background:conic-gradient(from 220deg,var(--gold),#b88312 25%,#885f05 55%,var(--gold) 85%);
}
.logo svg{width:22px;height:22px}
.title{line-height:1}
.title b{font-size:17px}
.title small{display:block; font-size:12px; opacity:.9}

/* Menu button */
.menuBtn{
  margin-left:auto; border:0; background:rgba(255,255,255,.18); color:#fff;
  border-radius:10px; padding:8px 10px; font-size:16px; cursor:pointer;
}

/* Slide-over drawer */
.drawer{
  position:fixed; inset:0 0 0 auto; width:min(86vw,360px); background:#0f1430; color:var(--ink);
  transform:translateX(100%); transition:transform .25s ease; box-shadow:var(--shadow); z-index:1100;
}
.drawer.open{ transform:translateX(0); }
.drawerHeader{display:flex; align-items:center; justify-content:space-between; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.08)}
.drawerHeader b{font-size:16px}
.drawer a{display:block; padding:14px 16px; color:var(--ink); text-decoration:none; border-bottom:1px solid rgba(255,255,255,.06)}
.drawer a span{display:block; color:var(--muted); font-size:12px; margin-top:2px}
.drawerClose{border:0; background:transparent; color:#fff; font-size:24px; line-height:1; cursor:pointer}

/* Backdrop */
.backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.5); opacity:0; visibility:hidden; transition:opacity .2s;
  z-index:1050;
}
.backdrop.show{opacity:1; visibility:visible}

/* ========= HERO ========= */
.hero{padding:18px 16px 8px}
.heroCard{
  border-radius:var(--radius); background:linear-gradient(180deg,#11183a,#0c1026);
  border:1px solid rgba(255,255,255,.08); padding:16px; box-shadow:var(--shadow)
}
.hero h2{margin:0 0 6px; font-size:22px; color:var(--gold)}
.hero p{margin:0; color:var(--muted); font-size:14px}

/* Quick info row */
.quick{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px}
.info{
  background:#0e1433; border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px 12px
}
.info b{display:block; color:#ffd56a; font-size:14px; margin-bottom:2px}
.info small{color:var(--muted); font-size:12px}

/* ========= FORM ========= */
.formWrap{padding:14px 16px 28px}
.form{
  background:linear-gradient(180deg,#131a3f,#0d122b);
  border:1px solid rgba(255,255,255,.1);
  border-radius:var(--radius); box-shadow:var(--shadow); padding:16px
}
.form h3{margin:0 0 10px; color:#ffd56a; font-size:18px; text-align:center}
label{display:block; margin-top:12px; color:var(--muted); font-size:14px}
input,select,textarea{
  width:100%; margin-top:6px; padding:12px; border-radius:12px;
  border:1px solid var(--stroke); background:#151b3a; color:var(--ink); font-size:16px;
}
input:focus,select:focus,textarea:focus{outline:0; border-color:#3a5fb7; box-shadow:0 0 0 3px rgba(58,95,183,.25)}
textarea{min-height:120px; resize:vertical}
.row{display:grid; grid-template-columns:1fr 1fr; gap:10px}
@media (max-width:560px){ .row{grid-template-columns:1fr} }

.helper{font-size:12px; color:#94a0c8; margin-top:4px}

.btn{
  width:100%; margin-top:16px; padding:14px; font-weight:900; letter-spacing:.2px;
  background:linear-gradient(90deg,var(--gold),#f0c24c); color:#111; border:0; border-radius:12px;
  cursor:pointer;
}
.btn:active{transform:translateY(1px)}

.note{margin-top:10px; text-align:center; color:#muted; font-size:13px}

/* ========= FOOTER ========= */
.footer{padding:18px; border-top:1px solid rgba(255,255,255,.08); text-align:center; color:var(--muted); font-size:12px}

/* ========= DESKTOP ENHANCEMENTS ========= */
@media (min-width:900px){
  .header{padding:14px 22px}
  .title b{font-size:18px}
  .hero h2{font-size:24px}
}
</style>
</head>
<body>

<!-- Header -->
<header class="header">
  <div class="logo" aria-hidden="true">
    <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path fill="#4B2E83" d="M12 2l8 4v6c0 5-3.5 8.5-8 10-4.5-1.5-8-5-8-10V6l8-4z"/>
      <path fill="#DAA520" d="M8 11h8v2H8zM10 7h4v2h-4z"/>
    </svg>
  </div>
  <div class="title">
    <b>Wheeling Housing Authority</b>
    <small>Resident Services</small>
  </div>
  <button class="menuBtn" id="menuBtn" aria-label="Open menu">â˜°</button>
</header>

<!-- Drawer -->
<div class="drawer" id="drawer" role="dialog" aria-modal="true" aria-label="Main menu">
  <div class="drawerHeader">
    <b>Menu</b>
    <button class="drawerClose" id="drawerClose" aria-label="Close">Ã—</button>
  </div>
  <a href="#form"><strong>Submit Work Order</strong><span>Send to maintenance</span></a>
  <a href="#form"><strong>Report a Building Issue</strong><span>Any maintenance concern</span></a>
  <a href="#faq"><strong>FAQ</strong><span>Common questions</span></a>
  <a href="tel:13042330658"><strong>Call Office</strong><span>(304) 233-0658</span></a>
</div>
<div class="backdrop" id="backdrop" tabindex="-1"></div>

<!-- Hero -->
<section class="hero">
  <div class="heroCard">
    <h2>Resident Services Portal</h2>
    <p>Submit a work order or report a maintenance problem. Your request is routed to the correct property team and youâ€™ll see a confirmation after sending.</p>

    <div class="quick">
      <div class="info">
        <b>Office</b>
        <small>(304) 233-0658 â€¢ Monâ€“Fri 8:30aâ€“4:30p</small>
      </div>
      <div class="info">
        <b>Tip</b>
        <small>Approving entry usually speeds up non-urgent fixes.</small>
      </div>
    </div>
  </div>
</section>

<!-- Form -->
<section class="formWrap" id="form">
  <form class="form" method="POST"
        action="https://script.google.com/macros/s/AKfycbwONIzHokMfrvHobG7bwisnOcTykbeU3qU2n7v-cu3Vu2WOy7j6QBSjztw5IrXMobAX/exec"
        accept-charset="utf-8">
    <h3>Work Order / Maintenance Request</h3>

    <label for="formType">Request Type *</label>
    <select id="formType" name="formType" required>
      <option value="">Selectâ€¦</option>
      <option value="work_order">Work Order</option>
      <option value="feedback">Other Maintenance Issue / Note</option>
    </select>

    <div class="row">
      <div>
        <label for="property">Property *</label>
        <select id="property" name="property" required>
          <option value="">Selectâ€¦</option>
          <option>Luau Manor</option>
          <option>Booker T</option>
          <option>Garden Park</option>
          <option>Riverside</option>
          <option>Hil-Dar</option>
        </select>
      </div>
      <div>
        <label for="unit">Apt/Unit *</label>
        <input id="unit" name="unit" placeholder="e.g., 2B" required />
      </div>
    </div>

    <div class="row">
      <div>
        <label for="name">Your Name *</label>
        <input id="name" name="name" placeholder="First & Last" required />
      </div>
      <div>
        <label for="contact">Best Contact *</label>
        <input id="contact" name="contact" placeholder="(304) 555-1234 or email" required />
      </div>
    </div>

    <!-- Work order extras (shown when Work Order selected) -->
    <div id="workExtra" class="hidden">
      <label for="issue">Issue Type</label>
      <input id="issue" name="issue" placeholder="e.g., plumbing, no heat, fridge not cooling" />

      <div class="row">
        <div>
          <label for="entry">Permission to Enter *</label>
          <select id="entry" name="entry">
            <option>Yes</option>
            <option>No</option>
          </select>
        </div>
        <div>
          <label for="urgency">Urgency</label>
          <select id="urgency" name="urgency">
            <option>Routine</option>
            <option>Priority (24â€“48 hrs)</option>
            <option>Emergency</option>
          </select>
        </div>
      </div>

      <label for="preferredTime">Preferred Contact Time</label>
      <input id="preferredTime" name="preferredTime" placeholder="e.g., mornings / after 3pm" />
      <div class="helper">For emergencies, call the office instead of using this form.</div>
    </div>

    <!-- Feedback-style extras for other maintenance notes -->
    <div id="feedExtra" class="hidden">
      <label for="category">Category</label>
      <select id="category" name="category">
        <option>General Maintenance Issue</option>
        <option>Common Area Problem</option>
        <option>Noise / Safety Concern</option>
        <option>Other</option>
      </select>
    </div>

    <label for="description">Details *</label>
    <textarea id="description" name="description" placeholder="Describe the problem or requestâ€¦" required></textarea>

    <!-- Hidden context + absolute redirect -->
    <input type="hidden" name="submittedPage" id="submittedPage" value="">
    <input type="hidden" name="ua" id="ua" value="">
    <input type="hidden" name="successRedirect" value="https://4hfund.github.io/projects/thank-you.html">

    <button class="btn" type="submit">Submit</button>
    <div class="note">ðŸš¨ Emergency? Call <a href="tel:13042330658" style="color:#ffd56a; text-decoration:none;">(304) 233-0658</a></div>
  </form>
</section>

<!-- Footer -->
<footer class="footer">
  Â© <span id="yr"></span> Wheeling Housing Authority â€” Resident Services
</footer>

<script>
/* Drawer controls */
const menuBtn = document.getElementById('menuBtn');
const drawer = document.getElementById('drawer');
const closeBtn = document.getElementById('drawerClose');
const backdrop = document.getElementById('backdrop');
function openDrawer(){drawer.classList.add('open'); backdrop.classList.add('show');}
function closeDrawer(){drawer.classList.remove('open'); backdrop.classList.remove('show');}
menuBtn.addEventListener('click', openDrawer);
closeBtn.addEventListener('click', closeDrawer);
backdrop.addEventListener('click', closeDrawer);

/* Form toggles */
const formType = document.getElementById('formType');
const workExtra = document.getElementById('workExtra');
const feedExtra = document.getElementById('feedExtra');
formType.addEventListener('change', () => {
  const v = formType.value;
  workExtra.classList.toggle('hidden', v !== 'work_order');
  feedExtra.classList.toggle('hidden', v !== 'feedback');
});

/* Hidden context + footer year */
document.getElementById('submittedPage').value = location.href;
document.getElementById('ua').value = navigator.userAgent;
document.getElementById('yr').textContent = new Date().getFullYear();

/* Fallback redirect to thank-you in case the Apps Script is slow */
document.querySelector('form').addEventListener('submit', () => {
  setTimeout(() => {
    try { window.top.location.href = "https://4hfund.github.io/projects/thank-you.html"; }
    catch(e) { location.href = "https://4hfund.github.io/projects/thank-you.html"; }
  }, 2500);
});
</script>
</body>
</html>
